# AI图片描述优化助手 - 插件显示设置指南

## 🎯 功能概述

为了解决插件遮挡原网页内容的问题，我们新增了插件显示设置功能，让您可以自定义插件在页面中的显示位置和模式。

## 📋 设置选项

### 1. 插件插入位置

在设置页面的"🎯 插件显示设置"部分，您可以选择以下插入位置：

- **页面顶部 (推荐)** - 插件显示在页面最顶部，固定悬浮
- **页面底部** - 插件显示在页面底部
- **输入框父容器** - 插件插入到输入框的父元素中
- **输入框同级** - 插件插入到输入框的同一层级
- **主容器** - 插件插入到页面的主容器中
- **自定义选择** - 使用自定义CSS选择器指定位置

### 2. 显示模式

- **固定定位 (悬浮显示)** - 插件悬浮在页面上方，不占用页面布局空间
- **相对定位 (内联显示)** - 插件嵌入到页面布局中，占用正常空间
- **绝对定位** - 插件相对于最近的定位父元素显示

### 3. 自定义选择器

当选择"自定义选择"时，您可以输入CSS选择器来精确指定插件插入位置，例如：
- `.main-content` - 插入到主内容区域
- `#container` - 插入到指定ID的容器
- `.sidebar` - 插入到侧边栏

## 🔍 页面分析功能

### 使用方法

1. 打开插件设置页面
2. 在"🎯 插件显示设置"部分点击"🔍 分析当前页面结构"
3. 系统会自动分析当前页面的DOM结构
4. 查看分析结果，了解页面的元素层级和结构

### 分析结果包含

- **输入框信息** - 找到的所有输入框元素及其位置
- **主要容器** - 页面的主要容器元素
- **Body结构** - 页面主体结构的前5层

## 🧪 测试方法

### 1. 使用测试页面

我们提供了一个测试页面 `test-page.html`，您可以：

1. 在浏览器中打开测试页面
2. 点击"打开设置页面"按钮
3. 在设置页面中配置不同的显示选项
4. 重新加载测试页面查看效果

### 2. 在目标网站测试

1. 访问目标AI图片生成网站
2. 打开插件设置页面
3. 使用"分析当前页面结构"功能
4. 根据分析结果选择合适的插入位置
5. 保存设置并重新加载页面

## ⚙️ 配置建议

### 针对不同网站的建议

#### 1. 剪映AI工具 (jimeng.jianying.com)
- **插入位置**: 页面顶部 或 主容器
- **显示模式**: 固定定位
- **原因**: 该网站使用固定布局，插件悬浮显示不会影响原页面

#### 2. 其他AI图片生成网站
- **插入位置**: 根据页面结构选择
- **显示模式**: 相对定位（如果页面有足够空间）
- **自定义选择器**: 根据分析结果选择合适的选择器

### 常见问题解决

#### 问题1: 插件遮挡了页面内容
**解决方案**:
1. 尝试"页面底部"插入位置
2. 使用"相对定位"显示模式
3. 选择"输入框同级"位置

#### 问题2: 插件完全不可见
**解决方案**:
1. 使用"页面顶部"插入位置
2. 确保使用"固定定位"显示模式
3. 检查页面是否有z-index冲突

#### 问题3: 插件位置不理想
**解决方案**:
1. 使用"分析当前页面结构"功能
2. 根据分析结果选择"自定义选择"
3. 输入合适的CSS选择器

## 🔧 高级配置

### CSS选择器示例

```css
/* 插入到主内容区域 */
.main-content

/* 插入到侧边栏 */
.sidebar, .aside

/* 插入到特定容器 */
#main-container, .content-wrapper

/* 插入到输入框附近 */
.input-container, .form-group
```

### 调试技巧

1. **使用浏览器开发者工具**
   - 按F12打开开发者工具
   - 在Elements面板中查看插件元素
   - 检查CSS样式和定位

2. **查看控制台日志**
   - 插件会在控制台输出详细的插入信息
   - 查看是否有错误信息

3. **临时禁用插件**
   - 在浏览器扩展管理页面临时禁用插件
   - 测试原页面是否正常显示

## 📝 注意事项

1. **设置保存** - 修改设置后需要点击"保存设置"按钮
2. **页面重载** - 某些设置需要重新加载页面才能生效
3. **网站兼容性** - 不同网站的DOM结构可能不同，需要分别配置
4. **浏览器兼容性** - 建议使用Chrome、Edge等现代浏览器

## 🆘 获取帮助

如果遇到问题：

1. 查看浏览器控制台的错误信息
2. 使用"分析当前页面结构"功能了解页面结构
3. 尝试不同的设置组合
4. 在测试页面中先验证设置效果

---

*最后更新: 2024年12月* 