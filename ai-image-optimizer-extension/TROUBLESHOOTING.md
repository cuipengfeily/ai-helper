# 🔧 故障排除指南

## 问题：插件闪退或无法显示

### 常见原因和解决方案

#### 1. 页面加载时机问题
**症状**: 插件界面闪现后消失
**原因**: 页面元素还未完全加载
**解决方案**:
- 刷新页面后等待3-5秒再查看
- 确保页面完全加载后再使用插件

#### 2. 输入框检测失败
**症状**: 插件完全不显示
**原因**: 无法找到目标输入框
**解决方案**:
- 检查是否在正确的网站：`https://jimeng.jianying.com/ai-tool/home/`
- 确保页面中有文本输入框
- 尝试在输入框中输入一些文字

#### 3. 配置文件加载失败
**症状**: 插件显示但功能异常
**原因**: 配置文件路径或格式问题
**解决方案**:
- 检查 `config/config.json` 文件是否存在
- 确保JSON格式正确
- 重新加载扩展

### 调试步骤

#### 步骤1: 检查控制台错误
1. 按 `F12` 打开开发者工具
2. 切换到 `Console` 标签
3. 查看是否有红色错误信息
4. 寻找包含 "AI图片描述优化助手" 的日志

#### 步骤2: 使用简化版插件
如果完整版插件有问题，可以尝试简化版：
1. 将 `manifest-debug.json` 重命名为 `manifest.json`
2. 重新加载扩展
3. 测试简化版功能

#### 步骤3: 手动测试
1. 在浏览器控制台中输入：
```javascript
console.log('测试插件加载');
```
2. 检查是否有响应

### 常见错误信息

#### "找不到输入框"
- 确保在正确的网页上
- 等待页面完全加载
- 检查输入框是否可见

#### "配置文件加载失败"
- 检查文件路径
- 验证JSON格式
- 重新安装扩展

#### "事件绑定失败"
- 刷新页面重试
- 检查DOM元素是否存在
- 使用简化版插件

### 临时解决方案

如果插件仍然无法正常工作，可以使用以下临时方案：

#### 方案1: 使用简化版
1. 备份当前的 `manifest.json`
2. 使用 `manifest-debug.json` 替换
3. 重新加载扩展

#### 方案2: 手动注入
在浏览器控制台中运行：
```javascript
// 手动创建简化版插件
const script = document.createElement('script');
script.src = chrome.runtime.getURL('content/content-simple.js');
document.head.appendChild(script);
```

#### 方案3: 使用书签脚本
1. 创建新书签
2. 在地址栏输入以下代码：
```javascript
javascript:(function(){
  const script = document.createElement('script');
  script.src = 'https://your-domain.com/content-simple.js';
  document.head.appendChild(script);
})();
```

### 预防措施

1. **定期更新**: 保持扩展版本最新
2. **清理缓存**: 定期清理浏览器缓存
3. **检查权限**: 确保扩展有足够权限
4. **备份配置**: 定期备份用户设置

### 获取帮助

如果问题仍然存在：

1. **查看日志**: 打开开发者工具查看详细错误信息
2. **检查版本**: 确认扩展和浏览器版本兼容性
3. **报告问题**: 在GitHub上提交Issue，包含：
   - 浏览器版本
   - 扩展版本
   - 错误截图
   - 控制台日志

### 联系支持

- **GitHub Issues**: [提交问题报告](https://github.com/your-repo/issues)
- **邮箱支持**: your-email@example.com
- **文档**: [完整使用指南](README.md)

---

💡 **提示**: 大多数问题都可以通过重新加载扩展或刷新页面解决。如果问题持续存在，请尝试使用简化版插件。 