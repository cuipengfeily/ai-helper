<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AIå›¾ç‰‡æè¿°ä¼˜åŒ–åŠ©æ‰‹ - æ˜¾ç¤ºä¿®å¤æµ‹è¯•</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background: #f5f5f5;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .input-section {
            margin: 20px 0;
            padding: 20px;
            border: 2px solid #ddd;
            border-radius: 8px;
            background: #f9f9f9;
        }
        textarea {
            width: 100%;
            min-height: 100px;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            font-size: 14px;
            resize: vertical;
        }
        .test-info {
            background: #e8f4fd;
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
        }
        .test-btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        .test-btn:hover {
            background: #5a6fd8;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ¤– AIå›¾ç‰‡æè¿°ä¼˜åŒ–åŠ©æ‰‹ - æ˜¾ç¤ºä¿®å¤æµ‹è¯•</h1>
        
        <div class="test-info">
            <h3>ğŸ“‹ æµ‹è¯•è¯´æ˜</h3>
            <p>è¿™ä¸ªé¡µé¢ç”¨äºæµ‹è¯•æ’ä»¶çš„æ˜¾ç¤ºä¿®å¤æ•ˆæœã€‚è¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤è¿›è¡Œæµ‹è¯•ï¼š</p>
            <ol>
                <li>ç¡®ä¿å·²å®‰è£…å¹¶å¯ç”¨AIå›¾ç‰‡æè¿°ä¼˜åŒ–åŠ©æ‰‹æ‰©å±•</li>
                <li>åˆ·æ–°æ­¤é¡µé¢</li>
                <li>è§‚å¯Ÿæ’ä»¶æ˜¯å¦æ­£ç¡®æ˜¾ç¤ºåœ¨è¾“å…¥æ¡†ä¸‹æ–¹</li>
                <li>æ£€æŸ¥æ‰€æœ‰åŠŸèƒ½æ˜¯å¦æ­£å¸¸å·¥ä½œ</li>
            </ol>
        </div>

        <div class="input-section">
            <h3>ğŸ“ å›¾ç‰‡æè¿°è¾“å…¥æ¡†</h3>
            <p>è¯·åœ¨æ­¤è¾“å…¥æ¡†ä¸­è¾“å…¥æ‚¨çš„å›¾ç‰‡æè¿°ï¼š</p>
            <textarea 
                placeholder="è¯·è¾“å…¥æ‚¨æƒ³è¦ç”Ÿæˆçš„å›¾ç‰‡æè¿°ï¼Œä¾‹å¦‚ï¼šä¸€åªå¯çˆ±çš„å°çŒ«ååœ¨èŠ±å›­é‡Œ..."
                id="testInput"
            ></textarea>
        </div>

        <div class="test-info">
            <h3>ğŸ”§ æµ‹è¯•åŠŸèƒ½</h3>
            <button class="test-btn" onclick="testPlugin()">æµ‹è¯•æ’ä»¶åŠ è½½</button>
            <button class="test-btn" onclick="checkVisibility()">æ£€æŸ¥æ˜¾ç¤ºçŠ¶æ€</button>
            <button class="test-btn" onclick="forceShow()">å¼ºåˆ¶æ˜¾ç¤º</button>
            <button class="test-btn" onclick="clearTest()">æ¸…é™¤æµ‹è¯•</button>
        </div>

        <div id="testResults" style="margin-top: 20px; padding: 15px; background: #f0f0f0; border-radius: 5px; display: none;">
            <h3>ğŸ“Š æµ‹è¯•ç»“æœ</h3>
            <div id="testOutput"></div>
        </div>
    </div>

    <script>
        function testPlugin() {
            const results = document.getElementById('testResults');
            const output = document.getElementById('testOutput');
            
            results.style.display = 'block';
            output.innerHTML = '<p>æ­£åœ¨æµ‹è¯•æ’ä»¶...</p>';
            
            // æ£€æŸ¥æ’ä»¶æ˜¯å¦å­˜åœ¨
            const plugin = document.getElementById('ai-image-optimizer');
            const simplePlugin = document.getElementById('simple-ai-optimizer');
            
            let status = '';
            
            if (plugin) {
                status += '<p>âœ… å®Œæ•´ç‰ˆæ’ä»¶å·²åŠ è½½</p>';
                status += `<p>æ’ä»¶ä½ç½®: ${plugin.parentNode.tagName}</p>`;
                status += `<p>æ’ä»¶å¯è§æ€§: ${window.getComputedStyle(plugin).display}</p>`;
                status += `<p>æ’ä»¶z-index: ${window.getComputedStyle(plugin).zIndex}</p>`;
            } else if (simplePlugin) {
                status += '<p>âœ… ç®€åŒ–ç‰ˆæ’ä»¶å·²åŠ è½½</p>';
                status += `<p>æ’ä»¶ä½ç½®: ${simplePlugin.parentNode.tagName}</p>`;
                status += `<p>æ’ä»¶å¯è§æ€§: ${window.getComputedStyle(simplePlugin).display}</p>`;
            } else {
                status += '<p>âŒ æœªæ£€æµ‹åˆ°æ’ä»¶</p>';
                status += '<p>è¯·ç¡®ä¿æ‰©å±•å·²å¯ç”¨å¹¶åˆ·æ–°é¡µé¢</p>';
            }
            
            output.innerHTML = status;
        }
        
        function checkVisibility() {
            const output = document.getElementById('testOutput');
            const plugin = document.getElementById('ai-image-optimizer') || document.getElementById('simple-ai-optimizer');
            
            if (plugin) {
                const style = window.getComputedStyle(plugin);
                const rect = plugin.getBoundingClientRect();
                
                let visibility = `
                    <h4>ğŸ” æ’ä»¶æ˜¾ç¤ºçŠ¶æ€æ£€æŸ¥</h4>
                    <p><strong>æ˜¾ç¤ºçŠ¶æ€:</strong> ${style.display}</p>
                    <p><strong>å¯è§æ€§:</strong> ${style.visibility}</p>
                    <p><strong>é€æ˜åº¦:</strong> ${style.opacity}</p>
                    <p><strong>å±‚çº§:</strong> ${style.zIndex}</p>
                    <p><strong>ä½ç½®:</strong> ${style.position}</p>
                    <p><strong>æº¢å‡º:</strong> ${style.overflow}</p>
                    <p><strong>å°ºå¯¸:</strong> ${rect.width}px Ã— ${rect.height}px</p>
                    <p><strong>ä½ç½®:</strong> å·¦:${rect.left}px, ä¸Š:${rect.top}px</p>
                `;
                
                output.innerHTML = visibility;
            } else {
                output.innerHTML = '<p>âŒ æœªæ‰¾åˆ°æ’ä»¶å…ƒç´ </p>';
            }
        }
        
        function forceShow() {
            const plugin = document.getElementById('ai-image-optimizer') || document.getElementById('simple-ai-optimizer');
            
            if (plugin) {
                plugin.style.display = 'block';
                plugin.style.visibility = 'visible';
                plugin.style.opacity = '1';
                plugin.style.zIndex = '9999';
                plugin.style.overflow = 'visible';
                plugin.style.position = 'relative';
                
                document.getElementById('testOutput').innerHTML = '<p>âœ… å·²å¼ºåˆ¶æ˜¾ç¤ºæ’ä»¶</p>';
            } else {
                document.getElementById('testOutput').innerHTML = '<p>âŒ æœªæ‰¾åˆ°æ’ä»¶å…ƒç´ </p>';
            }
        }
        
        function clearTest() {
            document.getElementById('testResults').style.display = 'none';
            document.getElementById('testOutput').innerHTML = '';
        }
        
        // é¡µé¢åŠ è½½å®Œæˆåè‡ªåŠ¨æµ‹è¯•
        window.addEventListener('load', () => {
            setTimeout(() => {
                testPlugin();
            }, 2000);
        });
    </script>
</body>
</html> 